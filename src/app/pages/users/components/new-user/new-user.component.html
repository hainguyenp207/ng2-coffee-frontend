<div class="col-md-12">
  <div class="card-box">
    <ng2-toasty [position]="'top-right'"></ng2-toasty>
    <div class="custom-modal-text text-left">
      <form role="form" #f="ngForm" novalidate>
        <div class="form-group">
          <label for="name">Tên đăng nhập</label>
          <div class="input-group">
            <input type="text" name="username" class="form-control" [ngClass]="{ 'parsley-error': f.submitted}" [(ngModel)]="user.username"
              id="username" placeholder="Nhập tên đăng nhập">
            <span class="input-group-addon bg-custom b-0 text-white"><i class="fa fa-user"></i></span>
          </div>
        </div>
        <div class="form-group">
          <label for="name">Họ tên</label>
          <div class="input-group">
            <input type="text" name="name" class="form-control" [ngClass]="{ 'parsley-error': f.submitted}" [(ngModel)]="user.name" id="name"
              placeholder="Nhập họ tên">
            <span class="input-group-addon bg-custom b-0 text-white"><i class="fa fa-user"></i></span>
          </div>
        </div>
        <div class="form-group">
          <label for="exampleInputEmail1">Email</label>
          <div class="input-group">
            <input type="text" class="form-control" name="email" placeholder="Nhập email" [ngClass]="{ 'parsley-error': f.submitted }"
              [(ngModel)]="user.email">
            <span class="input-group-addon bg-custom b-0 text-white">
                <i class="fa fa-envelope"></i>
                </span>
          </div>
        </div>
        <div class="form-group">
          <label for="exampleInputEmail1">Mật khẩu</label>
          <div class="input-group">
            <input [(ngModel)]="user.password" name="password" type="password" class="form-control" placeholder="Nhập mật khẩu">
            <span class="input-group-addon bg-custom b-0 text-white"><i class="fa fa-key"></i></span>
          </div>
        </div>
        <div class="row">
          <div class="col-md-5 col-xs-5">
            <div class="form-group">
              <label>Tổ chức</label>

              <select #selectedOrg name="orgId" class="form-control selectpicker" data-style="btn-white">
                <option *ngFor="let org of orgs" value="{{org.id}}">{{org.name}}</option>
              </select>

            </div>
          </div>
          <div class="col-md-5 col-xs-5">
            <div class="form-group">
              <label for="status">Vai trò</label>
              <select #selectedRole name="roleId" class="form-control selectpicker" data-style="btn-white">
                           <option *ngFor="let role of roles" value="{{role.id}}">{{role.name}}</option>
                          
                       </select>
            </div>
          </div>
          <div class="col-md-2 col-xs-2">
            <div class="form-group" style="padding-top: 24px">
              <button type="button" (click)="addRole(selectedRole,selectedOrg)" class="btn btn-primary form-control">
                  Thêm
              </button>
            </div>
          </div>
          <hr>

        </div>
        <div class="row" *ngIf="dataRoles.length>0">
          <div class="col-md-12 col-ms-12">
            <table class="table m-0">
              <thead>
                <tr>
                  <th>STT</th>
                  <th>Tổ chức</th>
                  <th>Vai trò</th>
                  <th></th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let x of dataRoles; let i = index; trackBy:trackByFn">
                  <th scope="row">{{i+1}}</th>
                  <td>{{getOrgName(x.organizationId)}}</td>
                  <td>{{getRoleName(x.roleId)}}</td>
                  <td><button (click)="removeRole(x)" class="btn btn-primary">Xóa</button></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12">
            <button style="width: 100px" (click)="createUser()" type="button" class="btn btn-default waves-effect waves-light">Lưu</button>
            <button style="width: 100px" (click)="redirect(users)" class="btn btn-danger waves-effect waves-light m-l-10">Hủy</button>
          </div>
        </div>
      </form>

    </div>
  </div>
</div>